# Path
export PATH="$HOME/.local/bin:$PATH"

# Cursor size
export XCURSOR_SIZE=16

# Zinit
ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"
[ ! -d $ZINIT_HOME ] && mkdir -p "$(dirname $ZINIT_HOME)"
[ ! -d $ZINIT_HOME/.git ] && git clone https://github.com/zdharma-continuum/zinit.git "$ZINIT_HOME"
source "${ZINIT_HOME}/zinit.zsh"

# Plugins
zinit snippet OMZP::git
zinit snippet OMZP::docker-compose

# user aliases
alias n="nvim"
alias j="goto"
alias cz="chezmoi"
alias czp="chezmoi --source ~/Repos/Misc/shared-datafiles"
unalias gsd 2>/dev/null
alias gsd="claude --dangerously-skip-permissions"
alias peterpecker='sudo reboot'
alias donthurtme='sudo shutdown now'

# docker exec with auto shell detection
dexec() {
  if [ -z "$1" ]; then
    echo "Usage: dexec <container>"
    return 1
  fi
  if docker exec "$1" bash -c '' 2>/dev/null; then
    docker exec -it "$1" bash
  else
    docker exec -it "$1" sh
  fi
}

# goto - directory navigation
source /home/antti/.config/goto/goto.zsh

# Prompt (load last)
eval "$(starship init zsh)"

eval "$(mise activate zsh)"

export EDITOR=nvim

# Secrets (managed via shared-datafiles)
[ -f ~/.secrets ] && source ~/.secrets
